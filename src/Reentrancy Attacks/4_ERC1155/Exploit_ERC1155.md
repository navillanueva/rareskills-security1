The exploit takes advantage of a reentrancy vulnerability in the mint function, where the contract allows a user to re-enter before updating the amountMinted state. By using the onERC1155Received callback, the attacker recursively calls mint, bypassing the max 3 NFTs limit and minting 5 tokens instead.

To prevent this, implement reentrancy protection (nonReentrant modifier) or update state before external calls to ensure the minting limit is enforced correctly.
